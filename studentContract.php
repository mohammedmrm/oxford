<?php
ob_start();
session_start();
//error_reporting(0);
require("script/_access.php");
access([1,2,4,3,5]);
require_once("script/dbconnection.php");
$style='
<style>

.col-2 {
  width:50%;
  min-height: 3px;
  float: left;
  position: relative;
  text-align: right;
}
.col-3 {
  width:30%;
  min-height: 3px;
  position: relative;
  float: left;
}
.col-3 * {
  padding-left: 10px;
  padding-right: 10px;
  text-align: center;
}

.col {
  width:100%;
  min-height: 3px;
  float: left;
  position: relative;
  text-align: right;
  border-bottom: 2px #CC0033 double;
}
.logo{
  background-image: url(img/logos/logoW.jpg);
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;
  height: 140px;
}



</style>
';

$id = $_REQUEST['id'];





try{
  $count = "select count(*) as count from orders ";
  $query = "select * from students
            inner join branches on branches.id = students.branch_id
            inner join levels on levels.id = students.level_id
            where students.id = ?
            ";
  $data = getData($con,$query,[$id]);
  $success="1";
} catch(PDOException $ex) {
   $data=["error"=>$ex];
   $success="0";
}
try{



} catch(PDOException $ex) {
   $data=["error"=>$ex];
   $success="0";
}

require_once("tcpdf/tcpdf.php");

$pdf = new TCPDF(PDF_PAGE_ORIENTATION, PDF_UNIT, PDF_PAGE_FORMAT, true, 'UTF-8', false);

// set document information
$pdf->SetCreator(PDF_CREATOR);
$pdf->SetAuthor('07822816693');
$pdf->SetTitle('العقد');
$pdf->SetSubject('Contract');
// set some language dependent data:
$lg = Array();
$lg['a_meta_charset'] = 'UTF-8';
$lg['a_meta_dir'] = 'rtl';
$lg['a_meta_language'] = 'ar';
$lg['w_page'] = 'page';

// set some language-dependent strings (optional)
$pdf->setLanguageArray($lg);
// set font
$pdf->SetFont('aealarabiya', '', 12);

// set default header data
//$pdf->SetHeaderData($config[0]['logo'],0, 'معهد أكسفور ');

// set header and footer fonts
$pdf->setHeaderFont(Array('aealarabiya', '', 12));
//$pdf->setFooterFont(Array(PDF_FONT_NAME_DATA, '', PDF_FONT_SIZE_DATA));


// set margins
//$pdf->SetMargins(PDF_MARGIN_LEFT, 30, PDF_MARGIN_RIGHT);
//$pdf->SetHeaderMargin(5);
//$pdf->SetFooterMargin(PDF_MARGIN_FOOTER);
// set auto page breaks
//$pdf->SetAutoPageBreak(TRUE, PDF_MARGIN_BOTTOM);

// set image scale factor
//$pdf->setImageScale(PDF_IMAGE_SCALE_RATIO);



// ---------------------------------------------------------


// add a page
$pdf->AddPage('P', 'A4');

// Persian and English content

$htmlpersian = '
<style>
@media print {
  body * :not(#section-to-print *){
    visibility: hidden;
    display: none;
  }
  #section-to-print, #section-to-print * {
    visibility: visible;
  }
}
/* arabic */
@font-face {
  font-family: "Cairo";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local("Cairo"), local("Cairo-Regular"), url(Cairofont.woff2) format("woff2");
  unicode-range: U+0600-06FF, U+200C-200E, U+2010-2011, U+204F, U+2E41, U+FB50-FDFF, U+FE80-FEFC;
}
/* latin-ext */
@font-face {
  font-family: "Cairo";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local("Cairo"), local("Cairo-Regular"), url(Cairofont.woff2) format("woff2");
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

body * :not(.signture) {
  font-family: "Cairo", sans-serif !important;
}
body {
  background-color: #777777;
  font-size: 15px;
  line-height: 1;
  direction: rtl;
}

.col-2 {
  width:50%;
  min-height: 3px;
  float: left;
  position: relative;
  text-align: right;
}
.col-3 {
  width:33.333333333%;
  min-height: 3px;
  float: left;
  position: relative;
  text-align: right;
}
.col-3 * {
  padding-left: 10px;
  padding-right: 10px;
  text-align: center;
}

.col {
  width:100%;
  min-height: 3px;
  float: left;
  position: relative;
  text-align: right;
  border-bottom: 2px #CC0033 double;
}
.col-1 {
  width:100%;
  min-height: 3px;
  float: left;
  position: relative;
  text-align: right;
  line-height: 1.5;
}
.col-1 span {
  color: #CC0000;
  font-weight: bold;
  padding-right: 15px;
  padding-left: 15px;
}
.col-1 label,.col-1 pre {
  color: #000;
  font-weight:;
  padding-right: 15px;
  padding-left: 15px;
  display: inline-block;
}
ul {
  list-style: disc;
}

ul li {
  line-height: 1.5;
  padding-right: 15px;
  padding-left: 15px;
  margin-bottom:3px;
}

.logo{
  background-image: url(img/logos/logoW.jpg);
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;
  height: 140px;
}

.container {
  width:800px;
  background-color: #FFFFFF;
  margin: auto;
  position: absolute;
}

</style>
<div class="container" id="section-to-print">
    <div class="col">
        <div class="col-3">
         <h2 style="color:#CC0033"><b>Oxford EST.</b></h2>
         <h3 style="color:#555555">for language learning & Development</h3>
        </div>
        <div class="col-3 logo"></div>

        <div class="col-3">
         <h2 style="color:#CC0033"><b>?????  ??????</b></h2>
         <h3 style="color:#555555" >????????????????????????????<br /> ????? ????????</h3>
        </div>
    </div>
    <div class="col-2" dir="rtl">
      <span style="color:#CC0033;padding: 10px; border-bottom: 1px solid #555555;"><b>?????????</b></span>
      <ul>
        <li> ??? ??????? ?? ????? ????? ??? ????? ??? ?????
??? ?? ???? ??? ???????? .</li>

        <li>? ???? ?????? ????????? ????? ????????? ??????
???????? ???? ???? ?? ?? ??? ????? ????? ?
????? ????? ?????? ???? ?????? ? ???????? ???????
?? ??? ???????? ???????? ??????? .</li>

        <li>? ?? ??? ??????? ????? ???? ????? ???? ?? ???
????? ????? ??? ???? ??????? .</li>

        <li>?? ???? ??????? ????? ???? ????? ??????? ) ???
???? ??????? ( ? ????? ??????? ?????? ?????
)02 )$??? ??? ?? ???? .</li>

        <li>? ?? ?????? ??????? ??? ?????? ???? ?? ???
???? ?????? ??? ??????? ?? ??? ??????? ??
????? ????? .</li>

        <li>? ?? ???????? ???? ???????? ? ??? ??????? ??
????? ?????? ???????? ? ?? ??? ???? ?????? ????
???)02 )$??? ?? ???? ???? ? ?? ??? ?????
????? ?????? ????? ?? ???? ???? ??? ????? ?????
??????? ??? ??? ?????? ??? ??????? ?? ????? </li>

        <li>?? ?? ??????? ??????? ? ???????? ??????? ????? ??
??? ??????? ? ?? ??? ??? ???????? ???? ????
?????? ???? ????? ) 02.) $</li>

        <li>?? ??? ????? ?? ??? ?????? ?????? ??????????
??????? ??? ??? ???? ????? )02.) $
?</li>
        <li>? ???? ????? ????? ???????? ????? ?????? ????????
??? ????? ?????? ?? ??? ??? ????????? ??????? ??
?????? ??? ?? ??? ?????? ?????? ??????? ????? </li>
        <li> ??? ?????? ????? ??????? ?????? ? ??? ??????
?????? ????? ????? ???? ?????? ?? ???? ??? ????
?????? ??? ?????? ???? ?????? ? ??? ??????
?????</li>
      <li>? ??? ?????? ????? ????? ?? ???????? ??????? ??
???? ??????? ???????? ??????? ? ?? ????? ????? ?????</li>
      </ul>
    </div>
    <div class="col-2">
        <span style="color:#CC0033;padding: 10px;border-bottom: 1px solid #555555;"><b>??? ????? ??????</b></span>
      <div class="col-1"><br />
       <span>??? ??????? ???</span><br />
       <span>????? ????? : </span><label>????? ??????? ?????????</label><br />
       <span>????? ?????? :</span><label>??? ?????? </label><br />
       <span>??? ?????? :</span><label>??? ?????? </label><br /><br />
       <label>??? ????? ??? ?? ????? ????? ??? ???? ?????? ????? ?????? ????? <u><b>??????????</b></u> ???? ?????? ? ??????? ???????:</label>
       <br /><br />
       <span>????? ??????</span><br /><label>???? ?????? ????????? ?? ???? ?? ???? ???? ?? ??????? ????? 6 ?? 8 ????? ??????? .</label>
       <br />
       <span>??????</span><label>???? ????? ???????? ????? ?????? ?? ?????? ?????
?? ????? ??????? ?????? ?????? ?? ???????</label>
       <br />
       <span>???? ?????? </span><br /><label>???? ???? ????? ???? ?????? ?? ???? ??????? ? ??? ?????? ????????? ?????? .</label>
       <br />
       <span>???? ??????</span><br />
       <pre>
???? ???? ?????? ???????? ??? ????? ???? ??? ??????
?????? ??? ??????? ?????? ????? ??????? ??? ??????? ,
???? ????? ??????? ??????? ??????? ??????
???? ????? ???????.
???? ?????? .......????? ?????? ?? ?? ????? ........ ?????
????? ?? ???? ??????? ??????? )02 )$?? ?? ?????
)000222 )????? ????? ??? ???? ? ??? ???? ?????
????? .
? ???? )02 )$?? ?? ?????)000022 )????? ????? ???
???????? ?? ??????? ????? ??? ??????? ?????? .
       </pre>
       <br />


      </div>
    </div>
    <div class="col-1">
      <div class="col-2">
       <span>????? ????? </span>
       <br /><label>????? ??????? ????????? ????????
???????? ???? ??????? ?? ?? ???? ???</label>
       <br /><label>??????? : <?php echo $student["date"];?></label>
       <br /><label>???????: </label><label class="signture" style="font-family: "Blackadder ITC""><?php echo "Ahmed Al-ramahee";?></label>
      </div>
      <div class="col-2">
       <span>????? ?????? </span>
       <br /><label>??? ?????? : <?php echo $student["student_name"];?></label>
       <br /><label>??????? : <?php echo $student["date"];?></label>
       <br /><label>???????: </label><label class="signture" style="font-family: "Blackadder ITC""><?php echo "Student";?></label>
      </div>
      <div class="col-1"><hr /> </div>
    </div>
</div>
<script>

</script>
';
$pdf->WriteHTML($style.$htmlpersian, true, 0, true, 0);

// set LTR direction for english translation
$pdf->setRTL(false);

$pdf->SetFontSize(10);
// print newline
$pdf->Ln();
//Close and output PDF document
ob_end_clean();
//print_r($hcontent);
$pdf->Output($data[0]['student_number'].'.pdf', 'I');
?>